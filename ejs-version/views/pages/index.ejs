<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <header>
        <%- include('../partials/header'); %>
    </header>
    <main>
        <div class="d-flex flex-wrap col-12 col-lg-8">
            <div class="col-lg-8 col-12 m-auto mb-5">
                <div class="section-title p-5">
                    <h2 class="text-center h2"><%= title %></h2>
                </div>
    
                <% if (layout === 'productList') { %>
    
                    <%- include('../partials/product-list'); %>
                
                <% } else if (layout === 'addForm') {%>
    
                    <%- include('../partials/form-product'); %>
    
                <% } else {%>
                
                    <h4> Aún no hay productos cargados.</h4>
                    <p>Prueba cargar uno acá: <a href="/agregar-producto">Agregar producto</a></p> 
                    
                <% } %>
            </div>
            <div id="chat" class="col-lg-4 col-12 p-2 position-lg-fixed bg-dark shadow-sm ">
                <div class="section-title p-2 pt-2 pt-lg-5">  
                    <h4 class="text-center h4 fw-bold text-light">Aplicación de chat</h4>
                </div>
                <div id="messages-container" class="messages w-100 p-2 d-flex flex-wrap">
                    <div id="messages" class="w-100 overflow-auto">

                    </div>
                    <div id="message-input-container" class="p-2 w-100">
                        <input id="username" class="form-control mb-2 bg-dark text-light" type="text" name="username" placeholder="Tu nombre">
                        <input id="messageInput" class="form-control mb-2 bg-dark text-light" type="text" name="messages" placeholder="Escribe un mensaje..."></input>
                        <button id="send-message" class="btn btn-primary">Enviar</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="../../public/main.js"></script>
</body>
</html>